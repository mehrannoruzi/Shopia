var $threeDotLoader='<span class="three-dot-loader"><span class="dot"><\/span><span class="dot"><\/span><span class="dot"><\/span><\/span>',$circularLoader='<div class="spinner"><svg viewBox="25 25 50 50"><circle cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"><\/circle><\/svg><\/div>',notifyType={success:"success",danger:"danger",info:"info",warning:"warning"},customSerialize,postObjectList;$(document).ready(function(){var n=function(){let n=window.location.href.toString().toLowerCase();$('nav ul.nav > li:not(".nav-header")  a:not([href="#"])').each(function(){var t=$(this).attr("href");if(n.endsWith(t.toLowerCase().split("?")[0])){$(this).closest("li").addClass("active").closest(".link-parent").addClass("active");let n=$(this).closest("ul.nav-second-level");return n.length>0&&n.addClass("in"),!1}})}();$(document).on("click",'[data-ajax-submit="true"]',function(){let n=$(this);submitAjaxForm(n,function(){showNotif(notifyType.success,strings.success)})});$(document).on("click",".filters .ibox-title",function(){var n=$(this).closest("div.ibox"),t=$(this).find(".collapse-icon i"),i;let u=t.hasClass("zmdi-chevron-down");i=n.children(".ibox-content");i.slideToggle(200);t.toggleClass("zmdi-chevron-up").toggleClass("zmdi-chevron-down");n.toggleClass("").toggleClass("border-bottom");setTimeout(function(){n.resize();n.find("[id^=map-]").resize()},50);let r=$(this).closest(".filters");n.hasClass("fixed-ibox")||(u?(n.animate({"margin-left":"-=125px"}),r.animate({"padding-top":"+=40px"})):(n.animate({"margin-left":"+=125px"}),r.animate({"padding-top":"-=40px"})))});$(document).on("click","[data-ajax-action]",function(){let n=$(this);n.data("type")&&(tyep=n.data("type"));let t=n.html();n.html($circularLoader);$.ajax({type:"post",url:n.data("ajax-action"),contentType:"json",success:function(i){n.html(t);i.IsSuccessful?showNotif(notifyType.success,strings.success):showNotif(notifyType.danger,i.Message)},error:function(){n.html(t);showNotif(notifyType.danger,strings.error)}})});$(document).on("click","[data-ajax-load]",function(){let n=$(".content-wrapper");$(this).data("target")&&(n=$($(this).data("target")));n.loadOverStart();$.get($(this).data("ajax-load")).done(function(t){n.html(t).loadOverStop()}).fail(function(){n.loadOverStop()})});jQuery.extend(jQuery.validator.messages,{required:validationMessages.required,remote:validationMessages.remote,email:validationMessages.email,url:validationMessages.url,date:validationMessages.date,dateISO:validationMessages.dateISO,number:validationMessages.number,digits:validationMessages.digits,creditcard:validationMessages.creditcard,equalTo:validationMessages.equalTo,accept:validationMessages.accept,maxlength:jQuery.validator.format(validationMessages.maxlength),minlength:jQuery.validator.format(validationMessages.minlength),rangelength:jQuery.validator.format(validationMessages.rangelength),range:jQuery.validator.format(validationMessages.range),max:jQuery.validator.format(validationMessages.max),min:jQuery.validator.format(validationMessages.min)});$(document).on("click",".inner-notification",function(){$(this).slideUp(300).find(".text").text("")});$(document).on("click",".copy-value",function(n){n.preventDefault();let i=$(this),r=i.data("copy-value"),t=document.createElement("textarea");t.value=r;document.body.appendChild(t);t.select();document.execCommand("copy");document.body.removeChild(t);i.addClass("animated fadeIn").bind("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(){i.removeClass("animated fadeIn")})});$(document).on("keypress",'.filters input[type="text"]',function(n){n.keyCode===13&&$(this).closest("form").find("button.search").trigger("click")})});var ajaxBtn=new(function(){var r=function(){},n,t,i,u;return r.prototype.inProgress=function(r,f){n=r;f=typeof f!="undefined"?f:$circularLoader;n.prop("disabled",!0);n.find(".icon").length>0?(t=r.find(".icon"),i=t.html(),t.html(f)):(u=n.outerHeight(),i=n.html(),n.css({height:u+"px"}).html(f))},r.prototype.normal=function(){n.prop("disabled",!1);n.find(".icon").length>0?t.html(i):n.html(i)},r}()),submitAjaxForm=function(n,t,i,r){r=typeof r!="undefined"?r:!0;r||$(".inner-notification").hide();let u=n.closest("form");if(u.valid()){ajaxBtn.inProgress(n);let f=customSerialize(u,!0);console.log(f);$.post(u.attr("action"),f).done(function(n){n.IsSuccessful?t&&typeof t=="function"&&t(n):typeof i=="function"?i(n):r?showNotif(notifyType.danger,n.Message):u.inlineNotify(notifyType.danger,n.Message);ajaxBtn.normal()}).fail(function(){ajaxBtn.normal();r?showNotif(notifyType.danger,strings.error):u.inlineNotify(notifyType.danger,strings.error)})}},ajaxCall=function(n,t,i,r,u,f){u=typeof u!="undefined"?u:$threeDotLoader;f=typeof f!="undefined"?f.toLowerCase():"post";t=typeof t!="undefined"?t:{};let o=n.hasClass("btn-action");if(o)ajaxBtn.inProgress(n);else{var s=n.html();n.html(u)}n.prop("disabled",!0);f==="post"?$.post(n.data("url"),t).done(function(t){o?ajaxBtn.normal():n.html(s);n.prop("disabled",!1);t.IsSuccessful?typeof i=="function"&&i(t):typeof r=="function"?r(t.Message):showNotif(notifyType.danger,strings.error+" ("+e.status+")")}).fail(function(t){console.log(t);o?ajaxBtn.normal():n.html(s);n.prop("disabled",!1);typeof r=="function"?r(strings.error):showNotif(notifyType.danger,strings.error+"("+t.status+")")}):$.get(n.data("url"),t).done(function(t){o?ajaxBtn.normal():n.html(s);n.prop("disabled",!1);t.IsSuccessful?typeof i=="function"&&i(t):typeof r=="function"&&r(t.Message)}).fail(function(t){o?ajaxBtn.normal():n.html(s);n.prop("disabled",!1);typeof r=="function"?r(strings.error):showNotif(notifyType.danger,strings.error+"("+t.status+")")})},swalConfirm=function(n,t){swal({title:"",text:strings.AreYouSure,confirmButtonColor:"#4285F4",showCancelButton:!0,confirmButtonText:strings.yes,cancelButtonText:strings.no},function(i){i?n():typeof t!="undefined"&&t()})};$(document).ajaxError(function(n,t){console.log(t.responseText);try{t.status===403||t.status===408?window.location.href=strings.signInUrl:t.status===401&&showNotif(notifyType.danger,strings.unAuthorizedErrorMessage)}catch(i){console.log(i)}});customSerialize=function(n,t){let i={};return n.find('input:not([type="checkbox"]):not([type="radio"]),select,textarea').each(function(){i[$(this).attr("name")]=t&&!isNaN($(this).val())?parseInt($(this).val()):$(this).val()}),n.find('input[type="checkbox"],input[type="radio"]').each(function(){let t=$(this).attr("name"),n=$(this).attr("value").toLowerCase();n&&n!=="true"&&n!=="false"||(n=$(this).prop("checked"));i[t]?Array.isArray(i[t])?i[t].push(n):i[t]=[i[t],n]:i[t]=n}),i};postObjectList=function(n,t,i,r){console.log("model5:");console.log(JSON.stringify(t));$.ajax({type:"POST",url:n,contentType:"application/json; charset=utf-8",data:JSON.stringify(t),success:function(n){i&&i(n)},error:function(n){r&&r(n)}})};const fileTypes={Unknown:{id:0,type:"application/octet-stream"},Image:{id:1,type:"image/png"},Document:{id:2,type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},Archive:{id:3,type:"application/zip"},Audio:{id:4,type:"audio/mpeg"},Video:{id:5,type:"video/mp4"}};var getFileType=function(n){let t=n.toLowerCase().split(".").reverse()[0];switch(t){case"png":case"jpg":case"jpeg":case"gif":case"tiff":return fileTypes.Image;case"mp3":case"wav":case"flm":case"fsm":case"ogg":case"m4a":case"m4b":case"m4p":case"m4r":return fileTypes.Audio;case"mp4":case"mkv":case"avi":case"ts":case"m4v":case"flv":return fileTypes.Video;case"zip":case"rar":case"iso":case"tar":case"jar":return fileTypes.Archive;case"pdf":case"doc":case"docx":case"txt":case"xls":case"xlsx":case"josn":case"pptx":return fileTypes.Document;default:return fileTypes.Unknown}},getDefaultImageUrl=function(n){let t=n.toLowerCase().split(".").reverse()[0];switch(getFileType(t).id){case fileTypes.Image:return null;case fileTypes.Audio.id:return urlPrefix+"/Images/FileTypes/audio.png";case fileTypes.Video.id:return urlPrefix+"/Images/FileTypes/video.png";case fileTypes.Archive.id:return urlPrefix+"/Images/FileTypes/archive.png";case fileTypes.Document.id:return urlPrefix+"/Images/FileTypes/document.png";default:return urlPrefix+"/Images/FileTypes/unknown.png"}},convertToOptionTags=function(n,t){let i="";return t&&(i='<option value="">'+strings.pleaseSelect+"<\/option>"),n.reduce(function(n,t){return n+('<option value="'+t.Value+'">'+t.Text+"<\/option>")},i)};