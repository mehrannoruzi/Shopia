function commaThousondSeperator(n){return n.replace(/\B(?=(\d{3})+(?!\d))/g,",")}var notifyType={success:"success",danger:"danger",info:"info",warning:"warning"},fireGlobalPlugins=function(){$(".footable").footable({pageSize:200,breakpoints:{phone:576,tablet:1024}});$(".i-checks").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"});$(".pdate").Zebra_DatePicker();$("select.select2:not(.with-ajax)").each(function(){if(!$(this).data("select2-fired")){let n=$(this).find('option[value=""]').length>0;$(this).data("select2-fired",!0).select2({placeholder:strings.pleaseSelect,allowClear:n,language:{noResults:function(){return strings.thereIsNoResult}}})}});$("select.select2.with-ajax").each(function(){if(!$(this).data("select2-fired")){let n=$(this).prop({autocomnplete:"off",autocorrect:"off"}),r=typeof n.data("min-length")!="undefined"?n.data("min-length"):2,t=$(this).find('option[value=""]'),i=t.length>0;n.data("select2-fired",!0).select2({placeholder:i?t.text():strings.pleaseSelect,searchInputPlaceholder:strings.searchHere,allowClear:i,language:{noResults:function(){return strings.thereIsNoResult},searching:function(){return strings.searching},inputTooShort:function(){return""}},minimumInputLength:parseInt(r),ajax:{url:n.attr("data-url"),dataType:"json",data:function(n){return{q:n.term}},processResults:function(n){return{results:n.map(n=>({text:n.Text,id:n.Value}))}}}})}})},customSerialize,postObjectList;$.fn.inlineNotify=function(n,t){let r=$(this),u=`<div class="row inner-notification">
                        <div class="col-12">
                            <div class="alert">
                                <p class="text"></p>
                            </div>
                        </div>
                    </div>`,i=r.find(".inner-notification");return i.length===0&&(i=$(u).prependTo(r)),i.find(".alert").removeClass().addClass("alert alert-"+n),i.find(".text").text(t),i.slideDown(300),this};var showNotif=function(n,t){toastr.options={closeButton:!0,debug:!1,progressBar:!0,preventDuplicates:!1,positionClass:"toast-top-left",onclick:null,showDuration:"400",hideDuration:"1000",timeOut:"7000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};n=n==="danger"?"error":n;toastr[n](t)},fireDropzone=function(){let n=function(n){let t=!0;n.data("removable")==="false"&&(t=!1);let i={renameFilename:function(n){return/^[ -~\t\n\r]+$/.test(n)?n:"noneAscciFileName."+n.split(".").reverse()[0]},init:function(){this.on("addedfile",function(n){n.type.match(/image.*/)||this.emit("thumbnail",n,getDefaultImageUrl(n.name))});let u=n.data("file-urls"),t=this;typeof u!="undefined"&&u.forEach(function(n){var i={name:n.split("/").reverse()[0],size:10244,accepted:!0,status:Dropzone.ADDED,type:getFileType(n).type,url:n};t.files.push(i);t.emit("addedfile",i);t.emit("thumbnail",i,n);t.emit("complete",i)});let i=n.data("file-url");if(typeof i!="undefined"){var r={name:i.split("/").reverse()[0],size:10244,accepted:!0,status:Dropzone.ADDED,type:getFileType(i).type,url:i};t.files.push(r);t.emit("addedfile",r);t.emit("thumbnail",r,i);t.emit("complete",r)}},dictRemoveFile:typeof n.data("remove-message")!="undefined"?n.data("remove-message"):strings.remove,addRemoveLinks:t,url:n.data("url"),params:function(){let r={},t=n.data("params");if(typeof t!="undefined")for(var i=0;i<t.length;i++)r[t[i].Key]=$("#"+t[i].Value).val();return r},maxFilesize:typeof n.data("max-file-size")!="undefined"?n.data("max-file-size"):500,acceptedFiles:n.data("accepted-files"),success:function(t,i){if(i.IsSuccessful===!0)t.url=i.Result,typeof n.data("success-func")!="undefined"&&eval(n.data("success-func"))(i.Result),this.emit("complete",t);else{if(this.files.length===1)this.removeAllFiles(!0);else{var r;t.previewElement&&(r=t.previewElement)!==null&&r.parentNode.removeChild(t.previewElement)}showNotif(notifyType.danger,i.Message)}},error:function(n,t){if(console.log(t),showNotif(notifyType.danger,t),this.files.length===1)this.removeAllFiles(!0);else{var i;n.previewElement&&(i=n.previewElement)!==null&&i.parentNode.removeChild(n.previewElement)}}};return t&&(rep.removedfile=function(t){let f={url:t.url},i=n.data("remove-params");if(typeof i!="undefined")for(var r=0;r<i.length;r++)f[i[r].Key]=$("#"+i[r].Value).val();let u=this;return $.post(n.data("remove-url"),f).done(function(i){var r;let f=(r=t.previewElement)!==null?r.parentNode.removeChild(t.previewElement):void 0;i.IsSuccessful?typeof n.data("remove-func")!="undefined"&&eval(n.data("remove-func"))(i.Result):(u.files.push(t),u.emit("addedfile",t),u.emit("thumbnail",t,t.url),u.emit("complete",t),showNotif(notifyType.danger,i.Message))}).fail(function(){return void 0}),console.log(this.files.length),this.files.length===0&&this.removeAllFiles(!0),this._updateMaxFilesReachedClass()}),rep};$(".multi-uploader").each(function(){let t=$(this),i=n(t);i.maxFiles=typeof t.data("max-files")!="undefined"?t.data("max-files"):10;i.dictDefaultMessage=typeof t.data("default-message")!="undefined"?t.data("default-message"):strings.dropYourFilesHere;t.dropzone(i)});$(".single-uploader").each(function(){let t=$(this),i=n(t);i.maxFiles=1;i.dictDefaultMessage=typeof t.data("default-message")!="undefined"?t.data("default-message"):strings.dropYourFileHere;t.dropzone(i)})},mapToken="pk.eyJ1Ijoia2luZ29mZGF5IiwiYSI6ImNrYWNweWQxaTFpbXcydnF3bDJiZ3QyODcifQ.RRNM5g4uAbca39ZWwp6p2A",$threeDotLoader='<span class="three-dot-loader"><span class="dot"><\/span><span class="dot"><\/span><span class="dot"><\/span><\/span>',$circularLoader='<div class="spinner"><svg viewBox="25 25 50 50"><circle cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"><\/circle><\/svg><\/div>';$(document).ready(function(){var n=function(){let n=window.location.href.toString().toLowerCase();$('nav ul.nav > li:not(".nav-header")  a:not([href="#"])').each(function(){var t=$(this).attr("href");if(n.endsWith(t.toLowerCase().split("?")[0])){$(this).closest("li").addClass("active").closest(".link-parent").addClass("active");let n=$(this).closest("ul.nav-second-level");return n.length>0&&n.addClass("in"),!1}})}();fireGlobalPlugins();$(document).on("click",'[data-ajax-submit="true"]',function(){let n=$(this);submitAjaxForm(n,function(){showNotif(notifyType.success,strings.success)})});$(document).on("click",".filters .ibox-title",function(){var n=$(this).closest("div.ibox"),t=$(this).find(".collapse-icon i"),i;let u=t.hasClass("zmdi-chevron-down");i=n.children(".ibox-content");i.slideToggle(200);t.toggleClass("zmdi-chevron-up").toggleClass("zmdi-chevron-down");n.toggleClass("").toggleClass("border-bottom");setTimeout(function(){n.resize();n.find("[id^=map-]").resize()},50);let r=$(this).closest(".filters");n.hasClass("fixed-ibox")||(u?(n.animate({"margin-left":"-=125px"}),r.animate({"padding-top":"+=40px"})):(n.animate({"margin-left":"+=125px"}),r.animate({"padding-top":"-=40px"})))});$(document).on("click","[data-ajax-action]",function(){let n=$(this);n.data("type")&&(tyep=n.data("type"));let t=n.html();n.html($circularLoader);$.ajax({type:"post",url:n.data("ajax-action"),contentType:"json",success:function(i){n.html(t);i.IsSuccessful?showNotif(notifyType.success,strings.success):showNotif(notifyType.danger,i.Message)},error:function(){n.html(t);showNotif(notifyType.danger,strings.error)}})});$(document).on("click","[data-ajax-load]",function(){let n=$(".content-wrapper");$(this).data("target")&&(n=$($(this).data("target")));n.loadOverStart();$.get($(this).data("ajax-load")).done(function(t){n.html(t).loadOverStop()}).fail(function(){n.loadOverStop()})});jQuery.extend(jQuery.validator.messages,{required:validationMessages.required,remote:validationMessages.remote,email:validationMessages.email,url:validationMessages.url,date:validationMessages.date,dateISO:validationMessages.dateISO,number:validationMessages.number,digits:validationMessages.digits,creditcard:validationMessages.creditcard,equalTo:validationMessages.equalTo,accept:validationMessages.accept,maxlength:jQuery.validator.format(validationMessages.maxlength),minlength:jQuery.validator.format(validationMessages.minlength),rangelength:jQuery.validator.format(validationMessages.rangelength),range:jQuery.validator.format(validationMessages.range),max:jQuery.validator.format(validationMessages.max),min:jQuery.validator.format(validationMessages.min)});$(document).on("click",".inner-notification",function(){$(this).slideUp(300).find(".text").text("")});$(document).on("click",".copy-value",function(n){n.preventDefault();let i=$(this),r=i.data("copy-value"),t=document.createElement("textarea");t.value=r;document.body.appendChild(t);t.select();document.execCommand("copy");document.body.removeChild(t);i.addClass("animated fadeIn").bind("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(){i.removeClass("animated fadeIn")})});$(document).on("keypress",'.filters input[type="text"]',function(n){n.keyCode===13&&$(this).closest("form").find("button.search").trigger("click")})});var ajaxBtn=new(function(){var r=function(){},n,t,i,u;return r.prototype.inProgress=function(r,f){n=r;f=typeof f!="undefined"?f:$circularLoader;n.prop("disabled",!0);n.find(".icon").length>0?(t=r.find(".icon"),i=t.html(),t.html(f)):(u=n.outerHeight(),i=n.html(),n.css({height:u+"px"}).html(f))},r.prototype.normal=function(){n.prop("disabled",!1);n.find(".icon").length>0?t.html(i):n.html(i)},r}()),submitAjaxForm=function(n,t,i,r){r=typeof r!="undefined"?r:!0;r||$(".inner-notification").hide();let u=n.closest("form");if(u.valid()){ajaxBtn.inProgress(n);let f=customSerialize(u,!0);$.post(u.attr("action"),f).done(function(n){n.IsSuccessful?t&&typeof t=="function"&&t(n):typeof i=="function"?i(n):r?showNotif(notifyType.danger,n.Message):u.inlineNotify(notifyType.danger,n.Message);ajaxBtn.normal()}).fail(function(){ajaxBtn.normal();r?showNotif(notifyType.danger,strings.error):u.inlineNotify(notifyType.danger,strings.error)})}},ajaxCall=function(n,t,i,r,u,f){u=typeof u!="undefined"?u:$threeDotLoader;f=typeof f!="undefined"?f.toLowerCase():"post";t=typeof t!="undefined"?t:{};let o=n.hasClass("btn-action");if(o)ajaxBtn.inProgress(n);else{var s=n.html();n.html(u)}n.prop("disabled",!0);f==="post"?$.post(n.data("url"),t).done(function(t){o?ajaxBtn.normal():n.html(s);n.prop("disabled",!1);t.IsSuccessful?typeof i=="function"&&i(t):typeof r=="function"?r(t.Message):showNotif(notifyType.danger,strings.error+" ("+e.status+")")}).fail(function(t){console.log(t);o?ajaxBtn.normal():n.html(s);n.prop("disabled",!1);typeof r=="function"?r(strings.error):showNotif(notifyType.danger,strings.error+"("+t.status+")")}):$.get(n.data("url"),t).done(function(t){o?ajaxBtn.normal():n.html(s);n.prop("disabled",!1);t.IsSuccessful?typeof i=="function"&&i(t):typeof r=="function"&&r(t.Message)}).fail(function(t){o?ajaxBtn.normal():n.html(s);n.prop("disabled",!1);typeof r=="function"?r(strings.error):showNotif(notifyType.danger,strings.error+"("+t.status+")")})},swalConfirm=function(n,t){swal({title:"",text:strings.AreYouSure,confirmButtonColor:"#4285F4",showCancelButton:!0,confirmButtonText:strings.yes,cancelButtonText:strings.no},function(i){i?n():typeof t!="undefined"&&t()})};$(document).ajaxError(function(n,t){console.log(t.responseText);try{t.status===403||t.status===408?window.location.href=strings.signInUrl:t.status===401&&showNotif(notifyType.danger,strings.unAuthorizedErrorMessage)}catch(i){console.log(i)}});customSerialize=function(n,t){let i={};return n.find('input:not([type="checkbox"]):not([type="radio"]),select,textarea').each(function(){let n=$(this).val();i[$(this).attr("name")]=t&&!isNaN(n)&&n!==""?parseInt($(this).val()):$(this).val()}),n.find('input[type="checkbox"],input[type="radio"]').each(function(){let t=$(this).attr("name"),n=$(this).attr("value").toLowerCase();n&&n!=="true"&&n!=="false"||(n=$(this).prop("checked"));i[t]?Array.isArray(i[t])?i[t].push(n):i[t]=[i[t],n]:i[t]=n}),i};postObjectList=function(n,t,i,r){console.log("model5:");console.log(JSON.stringify(t));$.ajax({type:"POST",url:n,contentType:"application/json; charset=utf-8",data:JSON.stringify(t),success:function(n){i&&i(n)},error:function(n){r&&r(n)}})};const fileTypes={Unknown:{id:0,type:"application/octet-stream"},Image:{id:1,type:"image/png"},Document:{id:2,type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},Archive:{id:3,type:"application/zip"},Audio:{id:4,type:"audio/mpeg"},Video:{id:5,type:"video/mp4"}};var getFileType=function(n){let t=n.toLowerCase().split(".").reverse()[0];switch(t){case"png":case"jpg":case"jpeg":case"gif":case"tiff":return fileTypes.Image;case"mp3":case"wav":case"flm":case"fsm":case"ogg":case"m4a":case"m4b":case"m4p":case"m4r":return fileTypes.Audio;case"mp4":case"mkv":case"avi":case"ts":case"m4v":case"flv":return fileTypes.Video;case"zip":case"rar":case"iso":case"tar":case"jar":return fileTypes.Archive;case"pdf":case"doc":case"docx":case"txt":case"xls":case"xlsx":case"josn":case"pptx":return fileTypes.Document;default:return fileTypes.Unknown}},getDefaultImageUrl=function(n){let t=n.toLowerCase().split(".").reverse()[0];switch(getFileType(t).id){case fileTypes.Image:return null;case fileTypes.Audio.id:return urlPrefix+"/Images/FileTypes/audio.png";case fileTypes.Video.id:return urlPrefix+"/Images/FileTypes/video.png";case fileTypes.Archive.id:return urlPrefix+"/Images/FileTypes/archive.png";case fileTypes.Document.id:return urlPrefix+"/Images/FileTypes/document.png";default:return urlPrefix+"/Images/FileTypes/unknown.png"}},convertToOptionTags=function(n,t){let i="";return t&&(i='<option value="">'+strings.pleaseSelect+"<\/option>"),n.reduce(function(n,t){return n+('<option value="'+t.Value+'">'+t.Text+"<\/option>")},i)};